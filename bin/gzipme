#!/usr/bin/env node

var program = require('commander')
  , gzipme = require('../index')
  , pkg = require('../package.json')
;

program
  .version(pkg.version)
  .usage('[options] <file>')
  .option('-O, --output [name]', 'Specify output filename (default <file>.gz).')
  .option('-o, --overwrite', 'Overwrite file (default false).')
  .option('-c, --compress [compress_mode]', 'The compress mode is best or fast. (default best).')
  .parse(process.argv);

var overwrite_or_output = (program.output || program.overwrite || false);
var compress_mode = (program.compress || "best");

gzipme(program.args.toString(), overwrite_or_output, compress_mode);

console.log("Gzipme has finished the compression.");
